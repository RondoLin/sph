{"ast":null,"code":"export default {\n  data() {\n    return {\n      keyword: ''\n    };\n  },\n\n  mounted() {\n    this.$bus.$on(\"clear\", () => {\n      this.keyword = '';\n    });\n  },\n\n  methods: {\n    goSearch() {\n      //路由传递参数(字符串形式)\n      // this.$router.push('/search/' + this.keyword+\"?k=\" +this.keyword.toUpperCase())\n      //路由传递参数(模板字符串形式)\n      // this.$router.push(`/search/$(this.keyword)?k=$({this.keyword.toUpperCase()}`)\n      //路由传递参数(对象形式(常用))\n      //  this.$router.push({name:\"search\",\n      //                     params:{keyword:this.keyword || undefined},\n      //                     })\n      if (this.$route.query) {\n        let location = {\n          name: \"search\",\n          params: {\n            keyword: this.keyword || undefined\n          }\n        };\n        location.query = this.$route.query;\n        this.$router.push(location);\n      }\n    },\n\n    async logout() {\n      try {\n        await this.$store.dispatch('userLogout');\n        this.$router.push('/home');\n      } catch (error) {}\n    }\n\n  },\n  computed: {\n    userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}