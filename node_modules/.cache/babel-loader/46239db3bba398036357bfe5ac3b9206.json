{"ast":null,"code":"export default {\n  data() {\n    return {\n      keyword: ''\n    };\n  },\n\n  mounted() {\n    this.$bus.$on(\"clear\", () => {\n      this.keyword = '';\n    });\n  },\n\n  methods: {\n    goSearch() {\n      //路由传递参数(字符串形式)\n      // this.$router.push('/search/' + this.keyword+\"?k=\" +this.keyword.toUpperCase())\n      //路由传递参数(模板字符串形式)\n      // this.$router.push(`/search/$(this.keyword)?k=$({this.keyword.toUpperCase()}`)\n      //路由传递参数(对象形式(常用))\n      //  this.$router.push({name:\"search\",\n      //                     params:{keyword:this.keyword || undefined},\n      //                     })\n      if (this.$route.query) {\n        let location = {\n          name: \"search\",\n          params: {\n            keyword: this.keyword || undefined\n          }\n        };\n        location.query = this.$route.query;\n        this.$router.push(location);\n      }\n    },\n\n    async logout() {\n      try {\n        await this.$store.dispatch('userLogout');\n        this.$router.push('/home');\n      } catch (error) {}\n    }\n\n  },\n  computed: {\n    userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+CA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACA;MACA;IACA,CAFA;EAGA,CAVA;;EAWAC;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;QACA;UAAAC;UAAAC;YAAAL;UAAA;QAAA;QACAM;QACA;MACA;IACA,CAhBA;;IAiBA;MAEA;QACA;QACA;MACA,CAHA,CAGA;IACA;;EAvBA,CAXA;EAoCAC;IACAC;MACA;IACA;;EAHA;AApCA","names":["data","keyword","mounted","methods","goSearch","name","params","location","computed","userName"],"sourceRoot":"src/components/Header","sources":["index.vue"],"sourcesContent":["<template>\r\n        <header class=\"header\">\r\n            <!-- 头部的第一行 -->\r\n            <div class=\"top\">\r\n                <div class=\"container\">\r\n                    <div class=\"loginList\">\r\n                        <p>尚品汇欢迎您！</p>\r\n                        <p v-if=\"!userName\">\r\n                            <span>请</span>\r\n                            <router-link to=\"/login\">登录</router-link>\r\n                            <router-link to=\"/register\" class=\"register\">免费注册</router-link>\r\n                        </p>\r\n                        <p v-else>\r\n                            <a >{{userName}}</a>\r\n                            <a class=\"register\" @click=\"logout\">退出</a>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"typeList\">\r\n                        <router-link href=\"###\">我的订单</router-link>\r\n                        <a href=\"###\">我的购物车</a>\r\n                        <a href=\"###\">我的尚品汇</a>\r\n                        <a href=\"###\">尚品汇会员</a>\r\n                        <a href=\"###\">企业采购</a>\r\n                        <a href=\"###\">关注尚品汇</a>\r\n                        <a href=\"###\">合作招商</a>\r\n                        <a href=\"###\">商家后台</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!--头部第二行 搜索区域-->\r\n            <div class=\"bottom\">\r\n                <h1 class=\"logoArea\">\r\n                    <router-link to=\"/home\" class=\"logo\">\r\n                        <img src=\"./images/logo.png\" alt=\"\">\r\n                    </router-link>\r\n                </h1>\r\n                <div class=\"searchArea\">\r\n                    <form action=\"###\" class=\"searchForm\">\r\n                        <input v-model=\"keyword\" type=\"text\" id=\"autocomplete\" class=\"input-error input-xxlarge\" />\r\n                        <button class=\"sui-btn btn-xlarge btn-danger\" type=\"button\" @click=\"goSearch\">搜索</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </header>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data(){\r\n            return {\r\n                keyword:''\r\n            }\r\n        },\r\n        mounted(){\r\n            this.$bus.$on(\"clear\",() => {\r\n                this.keyword = ''\r\n            })\r\n        },\r\n        methods:{\r\n            goSearch(){\r\n                //路由传递参数(字符串形式)\r\n                // this.$router.push('/search/' + this.keyword+\"?k=\" +this.keyword.toUpperCase())\r\n                //路由传递参数(模板字符串形式)\r\n                // this.$router.push(`/search/$(this.keyword)?k=$({this.keyword.toUpperCase()}`)\r\n                 //路由传递参数(对象形式(常用))\r\n                //  this.$router.push({name:\"search\",\r\n                //                     params:{keyword:this.keyword || undefined},\r\n                //                     })\r\n                \r\n                if(this.$route.query){      \r\n                    let location = {name:\"search\",params:{keyword:this.keyword || undefined}}              \r\n                    location.query = this.$route.query\r\n                    this.$router.push(location)\r\n                }\r\n            },\r\n           async logout(){\r\n\r\n                try {\r\n                    await  this.$store.dispatch('userLogout')\r\n                    this.$router.push('/home')\r\n                }catch (error){}\r\n            }\r\n        },\r\n        computed:{\r\n            userName(){\r\n                return this.$store.state.user.userInfo.name\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n     .header {\r\n        &>.top {\r\n            background-color: #eaeaea;\r\n            height: 30px;\r\n            line-height: 30px;\r\n\r\n            .container {\r\n                width: 1200px;\r\n                margin: 0 auto;\r\n                overflow: hidden;\r\n\r\n                .loginList {\r\n                    float: left;\r\n\r\n                    p {\r\n                        float: left;\r\n                        margin-right: 10px;\r\n\r\n                        .register {\r\n                            border-left: 1px solid #b3aeae;\r\n                            padding: 0 5px;\r\n                            margin-left: 5px;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .typeList {\r\n                    float: right;\r\n\r\n                    a {\r\n                        padding: 0 10px;\r\n\r\n                        &+a {\r\n                            border-left: 1px solid #b3aeae;\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        &>.bottom {\r\n            width: 1200px;\r\n            margin: 0 auto;\r\n            overflow: hidden;\r\n\r\n            .logoArea {\r\n                float: left;\r\n\r\n                .logo {\r\n                    img {\r\n                        width: 175px;\r\n                        margin: 25px 45px;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .searchArea {\r\n                float: right;\r\n                margin-top: 35px;\r\n\r\n                .searchForm {\r\n                    overflow: hidden;\r\n\r\n                    input {\r\n                        box-sizing: border-box;\r\n                        width: 490px;\r\n                        height: 32px;\r\n                        padding: 0px 4px;\r\n                        border: 2px solid #ea4a36;\r\n                        float: left;\r\n\r\n                        &:focus {\r\n                            outline: none;\r\n                        }\r\n                    }\r\n\r\n                    button {\r\n                        height: 32px;\r\n                        width: 68px;\r\n                        background-color: #ea4a36;\r\n                        border: none;\r\n                        color: #fff;\r\n                        float: left;\r\n                        cursor: pointer;\r\n\r\n                        &:focus {\r\n                            outline: none;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}